<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sign in</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
</head>
<body class="text-center">
<form action="" class="form-signin" id="app">
    <div id="input" class="animated ">
        <input type="text" id="user" placeholder="用户名" class="form-control" required autofocus>
        <br>
        <input type="password" id="password" placeholder="密码" class="form-control">
    </div>
    <button type="button" id="bt1" onclick="search()">登入</button>
</form>
<script type="text/javascript">
    function search() {
        checkName();
        checkPwd();
        var url = "helloServlet";
        if (window.XMLHttpRequest)
            req = new XMLHttpRequest();
        else if (window.ActiveXObject)
            req = new ActiveXObject("Microsoft.XMLHTTP");
        if (req) {
            req.open("post", url, true);
            req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            req.onreadystatechange = searchComplete;
            req.send("type=signin&user=" + document.getElementById("user").value + "&password=" + document.getElementById("password").value);
        }
    }
    function searchComplete() {
        if (req.readyState == 4 && req.status == 200) {
            alert(req.responseText);
        }
    }

    function checkName() {
        var user = document.getElementById("user");
        var reg = /^[0-9A-Za-z\d]{6,30}$/;
        if (reg.test(user.value)) {
            return true;
        } else {
            alert("用户名格式错误！a-z，A-Z，0-9，长度6-30位；");
            return 0;
        }
    }
    function checkPwd() {
        var pwd = document.getElementById("password");
        var reg = /^[0-9A-Za-z\d]{6,30}$/;
        if (reg.test(pwd.value)) {
            return true;
        } else {
            alert("密码格式错误！a-z，A-Z，0-9，长度6-30位；");
            return 0;
        }
    }
</script>
</body>
</html>